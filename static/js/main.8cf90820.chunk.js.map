{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","useState","numMessage","setNumMessage","token","setToken","directLine","useMemo","createDirectLine","increment","useCallback","shouldHideSendBox","store","createStore","next","action","console","log","type","styleOptions","hideSendBox","useEffect","abortController","AbortController","a","fetch","method","res","ok","Error","json","abort","className","Math","max","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4iBAuDeA,MAlDf,WACE,MAAoCC,mBAAS,GAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAA0BF,qBAA1B,mBAAOG,EAAP,KAAcC,EAAd,KAEMC,EAAaC,mBAAQ,kBAAMH,GAASI,2BAAiB,CAAEJ,YAAU,CAACA,IAClEK,EAAYC,uBAAY,kBAAMP,GAAc,SAAAD,GAAU,OAAIA,EAAa,OAAI,CAACC,IAC5EQ,EAAoBJ,mBAAQ,kBAAML,GAAc,IAAG,CAACA,IAEpDU,EAAQL,mBAAQ,WAWpB,OAVcM,sBAAY,IAAI,kBAAM,SAAAC,GAAI,OAAI,SAAAC,GAO1C,OANAC,QAAQC,IAAIF,GAEQ,kCAAhBA,EAAOG,MACTT,IAGKK,EAAKC,UAIb,CAACN,IAEEU,EAAeZ,mBAAQ,iBAAO,CAAEa,YAAaT,KAAsB,CAACA,IAoB1E,OAlBAU,qBAAU,WACR,IAAMC,EAAkB,IAAIC,gBAc5B,OAZA,sBAAC,gCAAAC,EAAA,sEACmBC,MAAM,6DAA8D,CAAEC,OAAQ,SADjG,WACOC,EADP,QAGUC,GAHV,sBAIS,IAAIC,MAAM,0BAJnB,uBAOyBF,EAAIG,OAP7B,gBAOS1B,EAPT,EAOSA,MAERC,EAASD,GATV,2CAAD,GAYO,kBAAMkB,EAAgBS,WAC5B,CAAC1B,IAGF,sBAAK2B,UAAU,MAAf,YACK1B,GAAc,cAAC,IAAD,CAAcA,WAAYA,EAAYM,MAAOA,EAAOO,aAAcA,IACnF,sBAAKa,UAAU,eAAf,sBAAwCC,KAAKC,IAAI,EAAG,EAAIhC,GAAxD,yBCtCSiC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,+BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,K","file":"static/js/main.8cf90820.chunk.js","sourcesContent":["import './App.css';\n\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport ReactWebChat, { createDirectLine, createStore } from 'botframework-webchat';\n\nfunction App() {\n  const [numMessage, setNumMessage] = useState(0);\n  const [token, setToken] = useState();\n\n  const directLine = useMemo(() => token && createDirectLine({ token }), [token]);\n  const increment = useCallback(() => setNumMessage(numMessage => numMessage + 1), [setNumMessage]);\n  const shouldHideSendBox = useMemo(() => numMessage >= 5, [numMessage]);\n\n  const store = useMemo(() => {\n    const store = createStore({}, () => next => action => {\n      console.log(action);\n\n      if (action.type === 'DIRECT_LINE/INCOMING_ACTIVITY') {\n        increment();\n      }\n\n      return next(action);\n    });\n\n    return store;\n  }, [increment]);\n\n  const styleOptions = useMemo(() => ({ hideSendBox: shouldHideSendBox }), [shouldHideSendBox]);\n\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    (async function () {\n      const res = await fetch('https://webchat-mockbot.azurewebsites.net/directline/token', { method: 'POST' });\n\n      if (!res.ok) {\n        throw new Error('Failed to fetch token.');\n      }\n\n      const { token } = await res.json();\n\n      setToken(token);\n    })();\n\n    return () => abortController.abort();\n  }, [setToken]);\n\n  return (\n    <div className=\"app\">\n      {!!directLine && <ReactWebChat directLine={directLine} store={store} styleOptions={styleOptions} />}\n      <div className=\"app__counter\">You have {Math.max(0, 5 - numMessage)} messages left.</div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}