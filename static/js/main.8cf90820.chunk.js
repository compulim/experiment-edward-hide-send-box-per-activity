(this["webpackJsonpexperiment-edward-hide-send-box-per-activity"]=this["webpackJsonpexperiment-edward-hide-send-box-per-activity"]||[]).push([[0],{1698:function(n,t){},180:function(n,t){},1815:function(n,t){},1836:function(n,t){},1838:function(n,t){},1841:function(n,t){},1842:function(n,t){},1843:function(n,t){},1844:function(n,t){},1845:function(n,t){},1849:function(n,t){},2061:function(n,t){},2070:function(n,t,e){"use strict";e.r(t);var c=e(0),o=e.n(c),i=e(256),u=e.n(i),r=(e(946),e(3)),f=e.n(r),a=e(910),s=e(545),b=(e(947),e(372)),d=e.n(b),j=e(151);var O=function(){var n=Object(c.useState)(0),t=Object(s.a)(n,2),e=t[0],o=t[1],i=Object(c.useState)(),u=Object(s.a)(i,2),r=u[0],O=u[1],h=Object(c.useMemo)((function(){return r&&Object(b.createDirectLine)({token:r})}),[r]),p=Object(c.useCallback)((function(){return o((function(n){return n+1}))}),[o]),l=Object(c.useMemo)((function(){return e>=5}),[e]),m=Object(c.useMemo)((function(){return Object(b.createStore)({},(function(){return function(n){return function(t){return console.log(t),"DIRECT_LINE/INCOMING_ACTIVITY"===t.type&&p(),n(t)}}}))}),[p]),x=Object(c.useMemo)((function(){return{hideSendBox:l}}),[l]);return Object(c.useEffect)((function(){var n=new AbortController;return Object(a.a)(f.a.mark((function n(){var t,e,c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://webchat-mockbot.azurewebsites.net/directline/token",{method:"POST"});case 2:if((t=n.sent).ok){n.next=5;break}throw new Error("Failed to fetch token.");case 5:return n.next=7,t.json();case 7:e=n.sent,c=e.token,O(c);case 10:case"end":return n.stop()}}),n)})))(),function(){return n.abort()}}),[O]),Object(j.jsxs)("div",{className:"app",children:[!!h&&Object(j.jsx)(d.a,{directLine:h,store:m,styleOptions:x}),Object(j.jsxs)("div",{className:"app__counter",children:["You have ",Math.max(0,5-e)," messages left."]})]})},h=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,2077)).then((function(t){var e=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,u=t.getTTFB;e(n),c(n),o(n),i(n),u(n)}))};u.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root")),h()},222:function(n,t){},507:function(n,t){},508:function(n,t){},894:function(n,t){},899:function(n,t){},918:function(n,t){},920:function(n,t){},921:function(n,t){},922:function(n,t){},923:function(n,t){},924:function(n,t){},925:function(n,t){},926:function(n,t){},946:function(n,t,e){},947:function(n,t,e){}},[[2070,1,2]]]);
//# sourceMappingURL=main.8cf90820.chunk.js.map